{"ast":null,"code":"import{createSlice,createAsyncThunk}from'@reduxjs/toolkit';import axios from'axios';const initialState={currentLevel:null,loading:false,error:null};export const fetchLevel=createAsyncThunk('level/fetchLevel',async _ref=>{let{caseId,levelId}=_ref;const response=await axios.get(\"/api/cases/\".concat(caseId,\"/levels/\").concat(levelId));return response.data;});export const submitSolution=createAsyncThunk('level/submitSolution',async _ref2=>{let{caseId,levelId,code,language}=_ref2;const response=await axios.post(\"/api/cases/\".concat(caseId,\"/levels/\").concat(levelId,\"/submit\"),{code,language});return response.data;});const levelSlice=createSlice({name:'level',initialState,reducers:{clearLevel:state=>{state.currentLevel=null;state.error=null;}},extraReducers:builder=>{builder// Fetch Level\n.addCase(fetchLevel.pending,state=>{state.loading=true;state.error=null;}).addCase(fetchLevel.fulfilled,(state,action)=>{state.loading=false;state.currentLevel=action.payload;}).addCase(fetchLevel.rejected,(state,action)=>{state.loading=false;state.error=action.error.message||'Failed to fetch level';})// Submit Solution\n.addCase(submitSolution.pending,state=>{state.loading=true;state.error=null;}).addCase(submitSolution.fulfilled,state=>{state.loading=false;}).addCase(submitSolution.rejected,(state,action)=>{state.loading=false;state.error=action.error.message||'Failed to submit solution';});}});export const{clearLevel}=levelSlice.actions;export default levelSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","currentLevel","loading","error","fetchLevel","_ref","caseId","levelId","response","get","concat","data","submitSolution","_ref2","code","language","post","levelSlice","name","reducers","clearLevel","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","message","actions","reducer"],"sources":["/Users/darkest.illusionist/Desktop/guviprojectnewlatest/frontend/src/store/slices/levelSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\ninterface Level {\n  id: number;\n  title: string;\n  prompt: string;\n  language: string;\n  difficulty: number;\n  hint: string;\n  clue: string;\n}\n\ninterface LevelState {\n  currentLevel: Level | null;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: LevelState = {\n  currentLevel: null,\n  loading: false,\n  error: null,\n};\n\nexport const fetchLevel = createAsyncThunk(\n  'level/fetchLevel',\n  async ({ caseId, levelId }: { caseId: string; levelId: string }) => {\n    const response = await axios.get(`/api/cases/${caseId}/levels/${levelId}`);\n    return response.data;\n  }\n);\n\nexport const submitSolution = createAsyncThunk(\n  'level/submitSolution',\n  async ({\n    caseId,\n    levelId,\n    code,\n    language,\n  }: {\n    caseId: number;\n    levelId: number;\n    code: string;\n    language: string;\n  }) => {\n    const response = await axios.post(`/api/cases/${caseId}/levels/${levelId}/submit`, {\n      code,\n      language,\n    });\n    return response.data;\n  }\n);\n\nconst levelSlice = createSlice({\n  name: 'level',\n  initialState,\n  reducers: {\n    clearLevel: (state) => {\n      state.currentLevel = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch Level\n      .addCase(fetchLevel.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchLevel.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentLevel = action.payload;\n      })\n      .addCase(fetchLevel.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch level';\n      })\n      // Submit Solution\n      .addCase(submitSolution.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(submitSolution.fulfilled, (state) => {\n        state.loading = false;\n      })\n      .addCase(submitSolution.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to submit solution';\n      });\n  },\n});\n\nexport const { clearLevel } = levelSlice.actions;\nexport default levelSlice.reducer; "],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,MAAO,CAAAC,KAAK,KAAM,OAAO,CAkBzB,KAAM,CAAAC,YAAwB,CAAG,CAC/BC,YAAY,CAAE,IAAI,CAClBC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAGN,gBAAgB,CACxC,kBAAkB,CAClB,MAAAO,IAAA,EAAoE,IAA7D,CAAEC,MAAM,CAAEC,OAA6C,CAAC,CAAAF,IAAA,CAC7D,KAAM,CAAAG,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACU,GAAG,eAAAC,MAAA,CAAeJ,MAAM,aAAAI,MAAA,CAAWH,OAAO,CAAE,CAAC,CAC1E,MAAO,CAAAC,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,cAAc,CAAGd,gBAAgB,CAC5C,sBAAsB,CACtB,MAAAe,KAAA,EAUM,IAVC,CACLP,MAAM,CACNC,OAAO,CACPO,IAAI,CACJC,QAMF,CAAC,CAAAF,KAAA,CACC,KAAM,CAAAL,QAAQ,CAAG,KAAM,CAAAT,KAAK,CAACiB,IAAI,eAAAN,MAAA,CAAeJ,MAAM,aAAAI,MAAA,CAAWH,OAAO,YAAW,CACjFO,IAAI,CACJC,QACF,CAAC,CAAC,CACF,MAAO,CAAAP,QAAQ,CAACG,IAAI,CACtB,CACF,CAAC,CAED,KAAM,CAAAM,UAAU,CAAGpB,WAAW,CAAC,CAC7BqB,IAAI,CAAE,OAAO,CACblB,YAAY,CACZmB,QAAQ,CAAE,CACRC,UAAU,CAAGC,KAAK,EAAK,CACrBA,KAAK,CAACpB,YAAY,CAAG,IAAI,CACzBoB,KAAK,CAAClB,KAAK,CAAG,IAAI,CACpB,CACF,CAAC,CACDmB,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OACE;AAAA,CACCC,OAAO,CAACpB,UAAU,CAACqB,OAAO,CAAGJ,KAAK,EAAK,CACtCA,KAAK,CAACnB,OAAO,CAAG,IAAI,CACpBmB,KAAK,CAAClB,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDqB,OAAO,CAACpB,UAAU,CAACsB,SAAS,CAAE,CAACL,KAAK,CAAEM,MAAM,GAAK,CAChDN,KAAK,CAACnB,OAAO,CAAG,KAAK,CACrBmB,KAAK,CAACpB,YAAY,CAAG0B,MAAM,CAACC,OAAO,CACrC,CAAC,CAAC,CACDJ,OAAO,CAACpB,UAAU,CAACyB,QAAQ,CAAE,CAACR,KAAK,CAAEM,MAAM,GAAK,CAC/CN,KAAK,CAACnB,OAAO,CAAG,KAAK,CACrBmB,KAAK,CAAClB,KAAK,CAAGwB,MAAM,CAACxB,KAAK,CAAC2B,OAAO,EAAI,uBAAuB,CAC/D,CAAC,CACD;AAAA,CACCN,OAAO,CAACZ,cAAc,CAACa,OAAO,CAAGJ,KAAK,EAAK,CAC1CA,KAAK,CAACnB,OAAO,CAAG,IAAI,CACpBmB,KAAK,CAAClB,KAAK,CAAG,IAAI,CACpB,CAAC,CAAC,CACDqB,OAAO,CAACZ,cAAc,CAACc,SAAS,CAAGL,KAAK,EAAK,CAC5CA,KAAK,CAACnB,OAAO,CAAG,KAAK,CACvB,CAAC,CAAC,CACDsB,OAAO,CAACZ,cAAc,CAACiB,QAAQ,CAAE,CAACR,KAAK,CAAEM,MAAM,GAAK,CACnDN,KAAK,CAACnB,OAAO,CAAG,KAAK,CACrBmB,KAAK,CAAClB,KAAK,CAAGwB,MAAM,CAACxB,KAAK,CAAC2B,OAAO,EAAI,2BAA2B,CACnE,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEV,UAAW,CAAC,CAAGH,UAAU,CAACc,OAAO,CAChD,cAAe,CAAAd,UAAU,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}