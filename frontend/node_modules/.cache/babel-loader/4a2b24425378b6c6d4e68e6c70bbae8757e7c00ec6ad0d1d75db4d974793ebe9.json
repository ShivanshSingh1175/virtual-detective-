{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\nconst initialState = {\n  currentLevel: null,\n  loading: false,\n  error: null\n};\nexport const fetchLevel = createAsyncThunk('level/fetchLevel', async ({\n  caseId,\n  levelId\n}) => {\n  const response = await axios.get(`/api/cases/${caseId}/levels/${levelId}`);\n  return response.data;\n});\nexport const submitSolution = createAsyncThunk('level/submitSolution', async ({\n  caseId,\n  levelId,\n  code,\n  language\n}) => {\n  const response = await axios.post(`/api/cases/${caseId}/levels/${levelId}/submit`, {\n    code,\n    language\n  });\n  return response.data;\n});\nconst levelSlice = createSlice({\n  name: 'level',\n  initialState,\n  reducers: {\n    clearLevel: state => {\n      state.currentLevel = null;\n      state.error = null;\n    }\n  },\n  extraReducers: builder => {\n    builder\n    // Fetch Level\n    .addCase(fetchLevel.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(fetchLevel.fulfilled, (state, action) => {\n      state.loading = false;\n      state.currentLevel = action.payload;\n    }).addCase(fetchLevel.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message || 'Failed to fetch level';\n    })\n    // Submit Solution\n    .addCase(submitSolution.pending, state => {\n      state.loading = true;\n      state.error = null;\n    }).addCase(submitSolution.fulfilled, state => {\n      state.loading = false;\n    }).addCase(submitSolution.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.error.message || 'Failed to submit solution';\n    });\n  }\n});\nexport const {\n  clearLevel\n} = levelSlice.actions;\nexport default levelSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","currentLevel","loading","error","fetchLevel","caseId","levelId","response","get","data","submitSolution","code","language","post","levelSlice","name","reducers","clearLevel","state","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","message","actions","reducer"],"sources":["/Users/darkest.illusionist/Desktop/guviprojectnewlatest/frontend/src/store/slices/levelSlice.ts"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from 'axios';\n\ninterface Level {\n  id: number;\n  title: string;\n  prompt: string;\n  language: string;\n  difficulty: number;\n  hint: string;\n  clue: string;\n}\n\ninterface LevelState {\n  currentLevel: Level | null;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: LevelState = {\n  currentLevel: null,\n  loading: false,\n  error: null,\n};\n\nexport const fetchLevel = createAsyncThunk(\n  'level/fetchLevel',\n  async ({ caseId, levelId }: { caseId: string; levelId: string }) => {\n    const response = await axios.get(`/api/cases/${caseId}/levels/${levelId}`);\n    return response.data;\n  }\n);\n\nexport const submitSolution = createAsyncThunk(\n  'level/submitSolution',\n  async ({\n    caseId,\n    levelId,\n    code,\n    language,\n  }: {\n    caseId: number;\n    levelId: number;\n    code: string;\n    language: string;\n  }) => {\n    const response = await axios.post(`/api/cases/${caseId}/levels/${levelId}/submit`, {\n      code,\n      language,\n    });\n    return response.data;\n  }\n);\n\nconst levelSlice = createSlice({\n  name: 'level',\n  initialState,\n  reducers: {\n    clearLevel: (state) => {\n      state.currentLevel = null;\n      state.error = null;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      // Fetch Level\n      .addCase(fetchLevel.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(fetchLevel.fulfilled, (state, action) => {\n        state.loading = false;\n        state.currentLevel = action.payload;\n      })\n      .addCase(fetchLevel.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to fetch level';\n      })\n      // Submit Solution\n      .addCase(submitSolution.pending, (state) => {\n        state.loading = true;\n        state.error = null;\n      })\n      .addCase(submitSolution.fulfilled, (state) => {\n        state.loading = false;\n      })\n      .addCase(submitSolution.rejected, (state, action) => {\n        state.loading = false;\n        state.error = action.error.message || 'Failed to submit solution';\n      });\n  },\n});\n\nexport const { clearLevel } = levelSlice.actions;\nexport default levelSlice.reducer; "],"mappings":"AAAA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAkBzB,MAAMC,YAAwB,GAAG;EAC/BC,YAAY,EAAE,IAAI;EAClBC,OAAO,EAAE,KAAK;EACdC,KAAK,EAAE;AACT,CAAC;AAED,OAAO,MAAMC,UAAU,GAAGN,gBAAgB,CACxC,kBAAkB,EAClB,OAAO;EAAEO,MAAM;EAAEC;AAA6C,CAAC,KAAK;EAClE,MAAMC,QAAQ,GAAG,MAAMR,KAAK,CAACS,GAAG,CAAC,cAAcH,MAAM,WAAWC,OAAO,EAAE,CAAC;EAC1E,OAAOC,QAAQ,CAACE,IAAI;AACtB,CACF,CAAC;AAED,OAAO,MAAMC,cAAc,GAAGZ,gBAAgB,CAC5C,sBAAsB,EACtB,OAAO;EACLO,MAAM;EACNC,OAAO;EACPK,IAAI;EACJC;AAMF,CAAC,KAAK;EACJ,MAAML,QAAQ,GAAG,MAAMR,KAAK,CAACc,IAAI,CAAC,cAAcR,MAAM,WAAWC,OAAO,SAAS,EAAE;IACjFK,IAAI;IACJC;EACF,CAAC,CAAC;EACF,OAAOL,QAAQ,CAACE,IAAI;AACtB,CACF,CAAC;AAED,MAAMK,UAAU,GAAGjB,WAAW,CAAC;EAC7BkB,IAAI,EAAE,OAAO;EACbf,YAAY;EACZgB,QAAQ,EAAE;IACRC,UAAU,EAAGC,KAAK,IAAK;MACrBA,KAAK,CAACjB,YAAY,GAAG,IAAI;MACzBiB,KAAK,CAACf,KAAK,GAAG,IAAI;IACpB;EACF,CAAC;EACDgB,aAAa,EAAGC,OAAO,IAAK;IAC1BA;IACE;IAAA,CACCC,OAAO,CAACjB,UAAU,CAACkB,OAAO,EAAGJ,KAAK,IAAK;MACtCA,KAAK,CAAChB,OAAO,GAAG,IAAI;MACpBgB,KAAK,CAACf,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDkB,OAAO,CAACjB,UAAU,CAACmB,SAAS,EAAE,CAACL,KAAK,EAAEM,MAAM,KAAK;MAChDN,KAAK,CAAChB,OAAO,GAAG,KAAK;MACrBgB,KAAK,CAACjB,YAAY,GAAGuB,MAAM,CAACC,OAAO;IACrC,CAAC,CAAC,CACDJ,OAAO,CAACjB,UAAU,CAACsB,QAAQ,EAAE,CAACR,KAAK,EAAEM,MAAM,KAAK;MAC/CN,KAAK,CAAChB,OAAO,GAAG,KAAK;MACrBgB,KAAK,CAACf,KAAK,GAAGqB,MAAM,CAACrB,KAAK,CAACwB,OAAO,IAAI,uBAAuB;IAC/D,CAAC;IACD;IAAA,CACCN,OAAO,CAACX,cAAc,CAACY,OAAO,EAAGJ,KAAK,IAAK;MAC1CA,KAAK,CAAChB,OAAO,GAAG,IAAI;MACpBgB,KAAK,CAACf,KAAK,GAAG,IAAI;IACpB,CAAC,CAAC,CACDkB,OAAO,CAACX,cAAc,CAACa,SAAS,EAAGL,KAAK,IAAK;MAC5CA,KAAK,CAAChB,OAAO,GAAG,KAAK;IACvB,CAAC,CAAC,CACDmB,OAAO,CAACX,cAAc,CAACgB,QAAQ,EAAE,CAACR,KAAK,EAAEM,MAAM,KAAK;MACnDN,KAAK,CAAChB,OAAO,GAAG,KAAK;MACrBgB,KAAK,CAACf,KAAK,GAAGqB,MAAM,CAACrB,KAAK,CAACwB,OAAO,IAAI,2BAA2B;IACnE,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAEV;AAAW,CAAC,GAAGH,UAAU,CAACc,OAAO;AAChD,eAAed,UAAU,CAACe,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}