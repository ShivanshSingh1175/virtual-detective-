{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,useNavigate}from'react-router-dom';import{Box,Paper,Typography,Button,Grid,CircularProgress,Alert,Divider}from'@mui/material';import{motion}from'framer-motion';import CodeEditor from'../components/editor/CodeEditor';import{useAppDispatch,useAppSelector}from'../store/hooks';import{submitSolution}from'../store/slices/levelSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Level=()=>{const{caseId,levelId}=useParams();const navigate=useNavigate();const dispatch=useAppDispatch();const{currentLevel,loading,error}=useAppSelector(state=>state.level);const[code,setCode]=useState('');const[showHint,setShowHint]=useState(false);const[showClue,setShowClue]=useState(false);useEffect(()=>{// Fetch level data\n// dispatch(fetchLevel({ caseId, levelId }));\n},[caseId,levelId,dispatch]);const handleSubmit=async()=>{if(!code.trim())return;try{const result=await dispatch(submitSolution({caseId:Number(caseId),levelId:Number(levelId),code,language:(currentLevel===null||currentLevel===void 0?void 0:currentLevel.language)||'javascript'})).unwrap();if(result.success){setShowClue(true);}}catch(error){console.error('Submission failed:',error);}};if(loading){return/*#__PURE__*/_jsx(Box,{display:\"flex\",justifyContent:\"center\",alignItems:\"center\",minHeight:\"80vh\",children:/*#__PURE__*/_jsx(CircularProgress,{})});}if(error){return/*#__PURE__*/_jsx(Box,{p:3,children:/*#__PURE__*/_jsx(Alert,{severity:\"error\",children:error})});}return/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},children:/*#__PURE__*/_jsx(Box,{p:3,children:/*#__PURE__*/_jsxs(Grid,{container:true,spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3,backgroundColor:'detective.light',color:'detective.text'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h4\",gutterBottom:true,fontFamily:\"detective\",children:currentLevel===null||currentLevel===void 0?void 0:currentLevel.title}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",paragraph:true,children:currentLevel===null||currentLevel===void 0?void 0:currentLevel.prompt})]})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:8,children:/*#__PURE__*/_jsx(Box,{height:\"600px\",children:/*#__PURE__*/_jsx(CodeEditor,{value:code,onChange:setCode,language:(currentLevel===null||currentLevel===void 0?void 0:currentLevel.language)||'javascript'})})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,md:4,children:/*#__PURE__*/_jsxs(Paper,{sx:{p:3,height:'100%',backgroundColor:'detective.light',color:'detective.text'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,fontFamily:\"detective\",children:\"Detective's Toolkit\"}),/*#__PURE__*/_jsx(Box,{mb:3,children:/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,onClick:handleSubmit,disabled:loading,children:\"Submit Solution\"})}),/*#__PURE__*/_jsx(Divider,{sx:{my:2}}),/*#__PURE__*/_jsxs(Box,{mb:3,children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"secondary\",fullWidth:true,onClick:()=>setShowHint(!showHint),children:showHint?'Hide Hint':'Show Hint'}),showHint&&/*#__PURE__*/_jsx(Box,{mt:2,p:2,bgcolor:\"detective.dark\",borderRadius:1,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:currentLevel===null||currentLevel===void 0?void 0:currentLevel.hint})})]}),showClue&&/*#__PURE__*/_jsxs(Box,{mt:3,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h6\",gutterBottom:true,fontFamily:\"detective\",children:\"New Clue Discovered!\"}),/*#__PURE__*/_jsx(Box,{p:2,bgcolor:\"detective.dark\",borderRadius:1,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",children:currentLevel===null||currentLevel===void 0?void 0:currentLevel.clue})})]})]})})]})})});};export default Level;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Box","Paper","Typography","Button","Grid","CircularProgress","Alert","Divider","motion","CodeEditor","useAppDispatch","useAppSelector","submitSolution","jsx","_jsx","jsxs","_jsxs","Level","caseId","levelId","navigate","dispatch","currentLevel","loading","error","state","level","code","setCode","showHint","setShowHint","showClue","setShowClue","handleSubmit","trim","result","Number","language","unwrap","success","console","display","justifyContent","alignItems","minHeight","children","p","severity","div","initial","opacity","y","animate","transition","duration","container","spacing","item","xs","sx","backgroundColor","color","variant","gutterBottom","fontFamily","title","paragraph","prompt","md","height","value","onChange","mb","fullWidth","onClick","disabled","my","mt","bgcolor","borderRadius","hint","clue"],"sources":["/Users/darkest.illusionist/Desktop/guviprojectnewlatest/frontend/src/pages/Level.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport {\n  Box,\n  Paper,\n  Typography,\n  Button,\n  Grid,\n  CircularProgress,\n  Alert,\n  Divider,\n} from '@mui/material';\nimport { motion } from 'framer-motion';\nimport CodeEditor from '../components/editor/CodeEditor';\nimport { useAppDispatch, useAppSelector } from '../store/hooks';\nimport { submitSolution } from '../store/slices/levelSlice';\n\nconst Level: React.FC = () => {\n  const { caseId, levelId } = useParams<{ caseId: string; levelId: string }>();\n  const navigate = useNavigate();\n  const dispatch = useAppDispatch();\n  const { currentLevel, loading, error } = useAppSelector((state) => state.level);\n\n  const [code, setCode] = useState('');\n  const [showHint, setShowHint] = useState(false);\n  const [showClue, setShowClue] = useState(false);\n\n  useEffect(() => {\n    // Fetch level data\n    // dispatch(fetchLevel({ caseId, levelId }));\n  }, [caseId, levelId, dispatch]);\n\n  const handleSubmit = async () => {\n    if (!code.trim()) return;\n\n    try {\n      const result = await dispatch(submitSolution({\n        caseId: Number(caseId),\n        levelId: Number(levelId),\n        code,\n        language: currentLevel?.language || 'javascript',\n      })).unwrap();\n\n      if (result.success) {\n        setShowClue(true);\n      }\n    } catch (error) {\n      console.error('Submission failed:', error);\n    }\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"80vh\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  if (error) {\n    return (\n      <Box p={3}>\n        <Alert severity=\"error\">{error}</Alert>\n      </Box>\n    );\n  }\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.5 }}\n    >\n      <Box p={3}>\n        <Grid container spacing={3}>\n          {/* Case Information */}\n          <Grid item xs={12}>\n            <Paper\n              sx={{\n                p: 3,\n                backgroundColor: 'detective.light',\n                color: 'detective.text',\n              }}\n            >\n              <Typography variant=\"h4\" gutterBottom fontFamily=\"detective\">\n                {currentLevel?.title}\n              </Typography>\n              <Typography variant=\"body1\" paragraph>\n                {currentLevel?.prompt}\n              </Typography>\n            </Paper>\n          </Grid>\n\n          {/* Code Editor */}\n          <Grid item xs={12} md={8}>\n            <Box height=\"600px\">\n              <CodeEditor\n                value={code}\n                onChange={setCode}\n                language={currentLevel?.language || 'javascript'}\n              />\n            </Box>\n          </Grid>\n\n          {/* Controls and Clues */}\n          <Grid item xs={12} md={4}>\n            <Paper\n              sx={{\n                p: 3,\n                height: '100%',\n                backgroundColor: 'detective.light',\n                color: 'detective.text',\n              }}\n            >\n              <Typography variant=\"h6\" gutterBottom fontFamily=\"detective\">\n                Detective's Toolkit\n              </Typography>\n              \n              <Box mb={3}>\n                <Button\n                  variant=\"contained\"\n                  color=\"primary\"\n                  fullWidth\n                  onClick={handleSubmit}\n                  disabled={loading}\n                >\n                  Submit Solution\n                </Button>\n              </Box>\n\n              <Divider sx={{ my: 2 }} />\n\n              <Box mb={3}>\n                <Button\n                  variant=\"outlined\"\n                  color=\"secondary\"\n                  fullWidth\n                  onClick={() => setShowHint(!showHint)}\n                >\n                  {showHint ? 'Hide Hint' : 'Show Hint'}\n                </Button>\n                {showHint && (\n                  <Box mt={2} p={2} bgcolor=\"detective.dark\" borderRadius={1}>\n                    <Typography variant=\"body2\">\n                      {currentLevel?.hint}\n                    </Typography>\n                  </Box>\n                )}\n              </Box>\n\n              {showClue && (\n                <Box mt={3}>\n                  <Typography variant=\"h6\" gutterBottom fontFamily=\"detective\">\n                    New Clue Discovered!\n                  </Typography>\n                  <Box p={2} bgcolor=\"detective.dark\" borderRadius={1}>\n                    <Typography variant=\"body2\">\n                      {currentLevel?.clue}\n                    </Typography>\n                  </Box>\n                </Box>\n              )}\n            </Paper>\n          </Grid>\n        </Grid>\n      </Box>\n    </motion.div>\n  );\n};\n\nexport default Level; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}