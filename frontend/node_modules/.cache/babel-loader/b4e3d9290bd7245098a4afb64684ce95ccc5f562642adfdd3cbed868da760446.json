{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';const initialState={user:null,token:localStorage.getItem('token'),isAuthenticated:false,loading:false,error:null};const authSlice=createSlice({name:'auth',initialState,reducers:{loginStart:state=>{state.loading=true;state.error=null;},loginSuccess:(state,action)=>{state.loading=false;state.isAuthenticated=true;state.user=action.payload.user;state.token=action.payload.token;localStorage.setItem('token',action.payload.token);},loginFailure:(state,action)=>{state.loading=false;state.error=action.payload;},logout:state=>{state.user=null;state.token=null;state.isAuthenticated=false;localStorage.removeItem('token');},updateUser:(state,action)=>{state.user=action.payload;}}});export const{loginStart,loginSuccess,loginFailure,logout,updateUser}=authSlice.actions;export default authSlice.reducer;","map":{"version":3,"names":["createSlice","initialState","user","token","localStorage","getItem","isAuthenticated","loading","error","authSlice","name","reducers","loginStart","state","loginSuccess","action","payload","setItem","loginFailure","logout","removeItem","updateUser","actions","reducer"],"sources":["/Users/darkest.illusionist/Desktop/guviprojectnewlatest/frontend/src/store/slices/authSlice.ts"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ninterface User {\n  id: number;\n  username: string;\n  email: string;\n}\n\ninterface AuthState {\n  user: User | null;\n  token: string | null;\n  isAuthenticated: boolean;\n  loading: boolean;\n  error: string | null;\n}\n\nconst initialState: AuthState = {\n  user: null,\n  token: localStorage.getItem('token'),\n  isAuthenticated: false,\n  loading: false,\n  error: null,\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    loginStart: (state) => {\n      state.loading = true;\n      state.error = null;\n    },\n    loginSuccess: (state, action: PayloadAction<{ user: User; token: string }>) => {\n      state.loading = false;\n      state.isAuthenticated = true;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      localStorage.setItem('token', action.payload.token);\n    },\n    loginFailure: (state, action: PayloadAction<string>) => {\n      state.loading = false;\n      state.error = action.payload;\n    },\n    logout: (state) => {\n      state.user = null;\n      state.token = null;\n      state.isAuthenticated = false;\n      localStorage.removeItem('token');\n    },\n    updateUser: (state, action: PayloadAction<User>) => {\n      state.user = action.payload;\n    },\n  },\n});\n\nexport const { loginStart, loginSuccess, loginFailure, logout, updateUser } = authSlice.actions;\nexport default authSlice.reducer; "],"mappings":"AAAA,OAASA,WAAW,KAAuB,kBAAkB,CAgB7D,KAAM,CAAAC,YAAuB,CAAG,CAC9BC,IAAI,CAAE,IAAI,CACVC,KAAK,CAAEC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,CACpCC,eAAe,CAAE,KAAK,CACtBC,OAAO,CAAE,KAAK,CACdC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,SAAS,CAAGT,WAAW,CAAC,CAC5BU,IAAI,CAAE,MAAM,CACZT,YAAY,CACZU,QAAQ,CAAE,CACRC,UAAU,CAAGC,KAAK,EAAK,CACrBA,KAAK,CAACN,OAAO,CAAG,IAAI,CACpBM,KAAK,CAACL,KAAK,CAAG,IAAI,CACpB,CAAC,CACDM,YAAY,CAAEA,CAACD,KAAK,CAAEE,MAAoD,GAAK,CAC7EF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACP,eAAe,CAAG,IAAI,CAC5BO,KAAK,CAACX,IAAI,CAAGa,MAAM,CAACC,OAAO,CAACd,IAAI,CAChCW,KAAK,CAACV,KAAK,CAAGY,MAAM,CAACC,OAAO,CAACb,KAAK,CAClCC,YAAY,CAACa,OAAO,CAAC,OAAO,CAAEF,MAAM,CAACC,OAAO,CAACb,KAAK,CAAC,CACrD,CAAC,CACDe,YAAY,CAAEA,CAACL,KAAK,CAAEE,MAA6B,GAAK,CACtDF,KAAK,CAACN,OAAO,CAAG,KAAK,CACrBM,KAAK,CAACL,KAAK,CAAGO,MAAM,CAACC,OAAO,CAC9B,CAAC,CACDG,MAAM,CAAGN,KAAK,EAAK,CACjBA,KAAK,CAACX,IAAI,CAAG,IAAI,CACjBW,KAAK,CAACV,KAAK,CAAG,IAAI,CAClBU,KAAK,CAACP,eAAe,CAAG,KAAK,CAC7BF,YAAY,CAACgB,UAAU,CAAC,OAAO,CAAC,CAClC,CAAC,CACDC,UAAU,CAAEA,CAACR,KAAK,CAAEE,MAA2B,GAAK,CAClDF,KAAK,CAACX,IAAI,CAAGa,MAAM,CAACC,OAAO,CAC7B,CACF,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAEJ,UAAU,CAAEE,YAAY,CAAEI,YAAY,CAAEC,MAAM,CAAEE,UAAW,CAAC,CAAGZ,SAAS,CAACa,OAAO,CAC/F,cAAe,CAAAb,SAAS,CAACc,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}